{"version":3,"sources":["components/Contacts.js","components/Filter.js","components/ContactForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Contact","name","number","handleOnDelete","id","onClick","key","Contacts","persons","filteredName","filter","person","toLowerCase","includes","map","Filter","value","onChange","ContactForm","handleNumberChange","handleNameChange","addName","type","Notification","message","baseStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","style","text","baseUrl","axios","get","then","response","data","catch","err","newObject","post","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setfilteredName","setMessage","useEffect","personService","initialPersons","event","target","preventDefault","p","indexOf","returnContact","concat","setTimeout","error","existingContact","find","window","alert","confirm","changedContact","ReactDOM","render","document","getElementById"],"mappings":"qMAEMA,EAAU,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,KAAMC,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,eAAgBC,EAAS,EAATA,GAC/C,OACE,2BACGH,EADH,IACUC,EACR,4BAAQG,QAAS,kBAAMF,EAAeC,EAAIH,IAAOK,IAAKF,GAAtD,YAqBSG,EAdE,SAAC,GAA+C,IAA7CC,EAA4C,EAA5CA,QAASC,EAAmC,EAAnCA,aAAcN,EAAqB,EAArBA,eACzC,OAAOK,EACJE,QAAO,SAACC,GAAD,OAAYA,EAAOV,KAAKW,cAAcC,SAASJ,MACtDK,KAAI,SAACH,GAAD,OACH,kBAAC,EAAD,CACEL,IAAKK,EAAOP,GACZA,GAAIO,EAAOP,GACXH,KAAMU,EAAOV,KACbC,OAAQS,EAAOT,OACfC,eAAgBA,QCZTY,EARA,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACrB,OAAQ,mDACe,2BACfD,MAAOA,EACPC,SAAUA,MCoBPC,EAxBK,SAAC,GAMd,IALLjB,EAKI,EALJA,KACAC,EAII,EAJJA,OACAiB,EAGI,EAHJA,mBACAC,EAEI,EAFJA,iBACAC,EACI,EADJA,QAEA,OACE,8BACE,sCACQ,2BAAOL,MAAOf,EAAMgB,SAAUG,KAEtC,wCACU,2BAAOJ,MAAOd,EAAQe,SAAUE,KAE1C,6BACE,4BAAQG,KAAK,SAASjB,QAASgB,GAA/B,UCWOE,EA3BM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAChBC,EAAY,CAChBC,MAAO,QACPC,WAAY,YACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAGVC,EAAU,2BACXR,GADW,IAEdC,MAAO,QAGT,OAAgB,OAAZF,EACK,KAGY,SAAjBA,EAAQF,KACH,yBAAKY,MAAOT,GAAYD,EAAQW,MAEhC,yBAAKD,MAAOD,GAAaT,EAAQW,O,gBCxBtCC,EAAU,eA0CD,EAxCA,WAEb,OADgBC,IAAMC,IAAIF,GAEvBG,MAAK,SAACC,GAAD,OAAcA,EAASC,QAC5BC,OAAM,SAACC,GACN,MAAMA,MAmCG,EA/BA,SAACC,GAEd,OADgBP,IAAMQ,KAAKT,EAASQ,GAEjCL,MAAK,SAACC,GACL,OAAOA,EAASC,QAEjBC,OAAM,SAACC,GACN,MAAMA,MAwBG,EApBM,SAACvC,GAEpB,OADgBiC,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BhC,IAExCmC,MAAK,SAACC,GACL,OAAOA,EAASC,QAEjBC,OAAM,SAACC,GACN,MAAMA,MAaG,EATA,SAACvC,EAAIwC,GAElB,OADgBP,IAAMU,IAAN,UAAaX,EAAb,YAAwBhC,GAAMwC,GAE3CL,MAAK,SAACC,GAAD,OAAcA,EAASC,QAC5BC,OAAM,SAACC,GACN,MAAMA,MCkFGK,EAlHH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTzC,EADS,KACA0C,EADA,OAEcD,mBAAS,IAFvB,mBAETE,EAFS,KAEAC,EAFA,OAGkBH,mBAAS,IAH3B,mBAGTI,EAHS,KAGEC,EAHF,OAIwBL,mBAAS,IAJjC,mBAITxC,EAJS,KAIK8C,EAJL,OAKcN,mBAAS,MALvB,mBAKTzB,EALS,KAKAgC,EALA,KAOhBC,qBAAU,WACRC,IAAuBnB,MAAK,SAACoB,GAAD,OAAoBT,EAAWS,QAC1D,IAkFH,OACE,6BACE,yCACA,kBAAC,EAAD,CAAcnC,QAASA,IACvB,kBAAC,EAAD,CAAQR,MAAOP,EAAcQ,SAhBN,SAAC2C,GAC1BL,EAAgBK,EAAMC,OAAO7C,MAAMJ,kBAgBjC,yCACA,kBAAC,EAAD,CACEX,KAAMkD,EACNhC,mBAxBqB,SAACyC,GAC1BN,EAAaM,EAAMC,OAAO7C,QAwBtBd,OAAQmD,EACRjC,iBA9BmB,SAACwC,GACxBR,EAAWQ,EAAMC,OAAO7C,QA8BpBK,QA3FU,SAACuC,GAEf,GADAA,EAAME,kBAC+C,IAAjDtD,EAAQM,KAAI,SAACiD,GAAD,OAAOA,EAAE9D,QAAM+D,QAAQb,GAAiB,CAKtDO,EAJmB,CACjBzD,KAAMkD,EACNjD,OAAQmD,IAIPd,MAAK,SAAC0B,GACLf,EAAW1C,EAAQ0D,OAAOD,IAC1Bb,EAAW,IACXE,EAAa,IACbE,EAAW,CAAErB,KAAK,SAAD,OAAW8B,EAAchE,MAAQqB,KAAM,SACxD6C,YAAW,WACTX,EAAW,QACV,QAEJd,OAAM,SAAC0B,GACNZ,EAAW,CAAErB,KAAK,GAAD,OAAKiC,EAAM5B,SAASC,KAAK2B,OAAS9C,KAAM,UACzD6C,YAAW,WACTX,EAAW,QACV,YAEF,CACL,IAAMa,EAAkB7D,EAAQ8D,MAAK,SAAC3D,GAAD,OAAYA,EAAOV,OAASkD,KACjE,GAAIkB,EAAgBnE,SAAWmD,EAC7BkB,OAAOC,MAAP,UAAgBrB,EAAhB,wCAEA,GACEoB,OAAOE,QAAP,UACKtB,EADL,2EAGA,CACA,IAAMuB,EAAc,2BAAQL,GAAR,IAAyBnE,OAAQmD,IACrDK,EACUgB,EAAetE,GAAIsE,GAC1BnC,MAAK,SAAC0B,GACLf,EACE1C,EAAQM,KAAI,SAACH,GAAD,OACVA,EAAOP,KAAO6D,EAAc7D,GAAKO,EAASsD,MAG9Cb,EAAW,IACXE,EAAa,OAEdZ,OAAM,SAAC0B,GACNZ,EAAW,CACTrB,KAAK,GAAD,OAAKiC,EAAM5B,SAASC,KAAK2B,OAC7B9C,KAAM,UAER6C,YAAW,WACTX,EAAW,QACV,aAwCX,uCACA,kBAAC,EAAD,CACEhD,QAASA,EACTC,aAAcA,EACdN,eAzBiB,SAACC,EAAIH,GACtBsE,OAAOE,QAAP,iBAAyBxE,EAAzB,QACFyD,EAA2BtD,GAAImC,MAAK,WAClCW,EAAW1C,EAAQE,QAAO,SAACC,GAAD,OAAYA,EAAOP,KAAOA,cCzF5DuE,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.ed2f77e5.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Contact = ({ name, number, handleOnDelete, id }) => {\n  return (\n    <p>\n      {name} {number}\n      <button onClick={() => handleOnDelete(id, name)} key={id}>\n        delete\n      </button>\n    </p>\n  );\n};\n\nconst Contacts = ({ persons, filteredName, handleOnDelete }) => {\n  return persons\n    .filter((person) => person.name.toLowerCase().includes(filteredName))\n    .map((person) => (\n      <Contact\n        key={person.id}\n        id={person.id}\n        name={person.name}\n        number={person.number}\n        handleOnDelete={handleOnDelete}\n      />\n    ));\n};\n\nexport default Contacts;\n","import React from 'react'\n\nconst Filter = ({ value, onChange }) => {\n    return (<div>\n        filter shown with: <input\n            value={value}\n            onChange={onChange} />\n    </div>)\n}\n\nexport default Filter","import React from \"react\";\n\nconst ContactForm = ({\n  name,\n  number,\n  handleNumberChange,\n  handleNameChange,\n  addName,\n}) => {\n  return (\n    <form>\n      <div>\n        name: <input value={name} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={number} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\" onClick={addName}>\n          add\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default ContactForm;\n","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  const baseStyle = {\n    color: \"green\",\n    background: \"lightgrey\",\n    fontSize: \"20px\",\n    borderStyle: \"solid\",\n    borderRadius: \"5px\",\n    padding: \"10px\",\n    marginBottom: \"10px\",\n  };\n\n  const errorStyle = {\n    ...baseStyle,\n    color: \"red\",\n  };\n\n  if (message === null) {\n    return null;\n  }\n\n  if (message.type === \"base\") {\n    return <div style={baseStyle}>{message.text}</div>;\n  } else {\n    return <div style={errorStyle}>{message.text}</div>;\n  }\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request\n    .then((response) => response.data)\n    .catch((err) => {\n      throw err;\n    });\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      throw err;\n    });\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      throw err;\n    });\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request\n    .then((response) => response.data)\n    .catch((err) => {\n      throw err;\n    });\n};\n\nexport default { getAll, create, deletePerson, update };\n","import React, { useState, useEffect } from \"react\";\nimport Contacts from \"./components/Contacts\";\nimport Filter from \"./components/Filter\";\nimport ContactForm from \"./components/ContactForm\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filteredName, setfilteredName] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => setPersons(initialPersons));\n  }, []);\n\n  const addName = (event) => {\n    event.preventDefault();\n    if (persons.map((p) => p.name).indexOf(newName) === -1) {\n      const newContact = {\n        name: newName,\n        number: newNumber,\n      };\n      personService\n        .create(newContact)\n        .then((returnContact) => {\n          setPersons(persons.concat(returnContact));\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setMessage({ text: `Added ${returnContact.name}`, type: \"base\" });\n          setTimeout(() => {\n            setMessage(null);\n          }, 2000);\n        })\n        .catch((error) => {\n          setMessage({ text: `${error.response.data.error}`, type: \"error\" });\n          setTimeout(() => {\n            setMessage(null);\n          }, 2000);\n        });\n    } else {\n      const existingContact = persons.find((person) => person.name === newName);\n      if (existingContact.number === newNumber) {\n        window.alert(`${newName} is already added to phonebook`);\n      } else {\n        if (\n          window.confirm(\n            `${newName} is already added to phonebook, replace the old number with a new one?`\n          )\n        ) {\n          const changedContact = { ...existingContact, number: newNumber };\n          personService\n            .update(changedContact.id, changedContact)\n            .then((returnContact) => {\n              setPersons(\n                persons.map((person) =>\n                  person.id !== returnContact.id ? person : returnContact\n                )\n              );\n              setNewName(\"\");\n              setNewNumber(\"\");\n            })\n            .catch((error) => {\n              setMessage({\n                text: `${error.response.data.error}`,\n                type: \"error\",\n              });\n              setTimeout(() => {\n                setMessage(null);\n              }, 2000);\n            });\n        }\n      }\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setfilteredName(event.target.value.toLowerCase());\n  };\n\n  const handleOnDelete = (id, name) => {\n    if (window.confirm(`Delete ${name} ?`)) {\n      personService.deletePerson(id).then(() => {\n        setPersons(persons.filter((person) => person.id !== id));\n      });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter value={filteredName} onChange={handleFilterChange} />\n      <h3>add a new</h3>\n      <ContactForm\n        name={newName}\n        handleNumberChange={handleNumberChange}\n        number={newNumber}\n        handleNameChange={handleNameChange}\n        addName={addName}\n      />\n      <h3>Numbers</h3>\n      <Contacts\n        persons={persons}\n        filteredName={filteredName}\n        handleOnDelete={handleOnDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}